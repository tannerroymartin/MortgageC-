@model Mortgage.Models.Loan

@{
}

<div class="text-center">
    <h1>Mortgage Calculator</h1>
</div>

<div class="container">
    <form asp-action="App" method="post">
        <div class="form-group">
            <label asp-for="Amount">Loan Amount</label>
            <input type="number" asp-for="Amount" class="form-control" placeholder="Amount" value="150000" />
        </div>
        <div class="form-group">
            <label asp-for="Term">Years</label>
            <input type="number" asp-for="Term" class="form-control" placeholder="Term" value="60"/>
        </div>
        <div class="form-group">
            <label asp-for="Rate">Interest Rate</label>
            <input type="number" asp-for="Rate" class="form-control" placeholder="Rate" value="3"/>
        </div>
        <button type="submit" class="btn btn-success">Calculate</button>
    </form>

   

    <hr />

    @if (Model.Payments.Count > 0)
    {
                <table class="table-striped table table-dark">
                    <thead>
                        <tr>
                            <th>Month</th>
                            <th>Monthly Payment</th>
                            <th>Monthly Principal</th>
                            <th>Monthly Interest</th>
                            <th>Total Interest</th>
                            <th>Balance</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < Model.Payments.Count(); i++)
                        {
                            <tr>
                                <td>@Model.Payments[i].Month</td>
                                <td>@Model.Payments[i].Payment.ToString("c")</td>
                                <td>@Model.Payments[i].MonthlyPrinciapl.ToString("c")</td>
                                <td>@Model.Payments[i].MonthlyInterest.ToString("c")</td>
                                <td>@Model.Payments[i].TotalInterest.ToString("c")</td>
                                <td>@Model.Payments[i].Balance.ToString("c")</td>

                            </tr>
                        }
                        </tbody> 
                </table>
                     
    }
            
</div>